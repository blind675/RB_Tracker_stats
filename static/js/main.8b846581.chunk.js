(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{30:function(e,t,a){e.exports=a(68)},35:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var l=a(1),n=a.n(l),i=a(5),o=a.n(i),c=(a(35),a(12)),s=a(22),r=a(23),d=a(28),u=a(24),m=a(10),p=a(29),b=a(18),g=a.n(b),h=a(11),f=a(27),k=(a(50),a(25)),v={apiKey:"AIzaSyCzenI1WpO2JBbltc3ARFKTCJyUumY-zkk",authDomain:"rbtrack-ab0e9.firebaseapp.com",databaseURL:"https://rbtrack-ab0e9.firebaseio.com",projectId:"rbtrack-ab0e9",storageBucket:"rbtrack-ab0e9.appspot.com",messagingSenderId:"381452575978",appId:"1:381452575978:web:9999b9c4b6d38967"},y=[{label:"",value:null},{label:"Walk",value:"walk"},{label:"Stay",value:"stay"},{label:"Bike / e-Bike",value:"bike"},{label:"Scooter",value:"scooter"},{label:"e-Scooter",value:"e-scooter"},{label:"Reactive Board",value:"rb"}],E=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={locations:[],loading:!1,selectedPoint:null,selectedActionAtPoint:null},a._updatePoint=a._updatePoint.bind(Object(m.a)(a)),a}return Object(p.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.db=k.initializeApp(v),this._reloadFirebaseData()}},{key:"_reloadFirebaseData",value:function(){var e=this;this.setState({loading:!0}),this.db.firestore().collection("geo_points").get().then(function(t){var a=t.docs.map(function(e){return Object(c.a)({},e.data(),{id:e.id})});e.setState({loading:!1,locations:a})}).catch(function(t){e.setState({loading:!1,locations:[]}),console.log("error:",t)})}},{key:"_updatePoint",value:function(){if(this.state.selectedActionAtPoint){console.log(" selected action points:",this.state.selectedActionAtPoint),console.log(" update point:",this.state.selectedPoint);var e=this.db.firestore().collection("geo_points").doc(this.state.selectedPoint.id);console.log(" firebaseRef:",e);var t=Object(c.a)({},this.state.selectedPoint,{label:this.state.selectedActionAtPoint.value});console.log(" new object:",t),e.update(t)}else alert(" Please select an action did at a location. ")}},{key:"_renderPoints",value:function(){var e=this;return this.state.locations.map(function(t){var a="http://maps.google.com/mapfiles/ms/icons/red-dot.png";switch(t.label){case"walk":a="http://maps.google.com/mapfiles/kml/paddle/wht-blank-lv.png";break;case"stay":a="http://maps.google.com/mapfiles/kml/paddle/wht-square-lv.png";break;case"bike":a="http://maps.google.com/mapfiles/kml/paddle/purple-circle-lv.png";break;case"scooter":a="http://maps.google.com/mapfiles/kml/paddle/blu-circle-lv.png";break;case"e-scooter":a="http://maps.google.com/mapfiles/kml/paddle/blu-stars-lv.png";break;case"rn":a="http://maps.google.com/mapfiles/kml/paddle/grn-diamond-lv.png";break;default:a="http://maps.google.com/mapfiles/ms/icons/red-dot.png"}return n.a.createElement(h.Marker,{position:{lat:t.latitude,lng:t.longitude},onClick:function(){e.setState({selectedPoint:t})},name:"Test",title:"Test marker",key:t.id,icon:{url:a}})})}},{key:"_renderMap",value:function(){return 0!==this.state.locations.length?n.a.createElement(h.Map,{google:this.props.google,zoom:16,style:w,initialCenter:{lat:45.757855,lng:21.228995}},this._renderPoints()):null}},{key:"_renderSelectedPoint",value:function(){var e=this;return this.state.selectedPoint?this.state.selectedPoint.label?n.a.createElement("form",null,n.a.createElement("br",null),n.a.createElement("label",null,"Latitude: ",this.state.selectedPoint.latitude," "),n.a.createElement("br",null),n.a.createElement("label",null,"Longitude: ",this.state.selectedPoint.longitude," "),n.a.createElement("br",null),n.a.createElement("label",null,"Accuracy: ",this.state.selectedPoint.accuracy," "),n.a.createElement("br",null),n.a.createElement("label",null,"UniqueId: ",this.state.selectedPoint.uniqueId," "),n.a.createElement("br",null),n.a.createElement("label",null,"Manufacturer: ".concat(this.state.selectedPoint.manufacturer)),n.a.createElement("br",null),n.a.createElement("label",null,"Action did at location: ".concat(this.state.selectedPoint.label)),n.a.createElement("br",null)):n.a.createElement("div",{style:{display:"flex",flex:1,flexDirection:"column"}},n.a.createElement("label",null,"Latitude: ",this.state.selectedPoint.latitude," "),n.a.createElement("label",null,"Longitude: ",this.state.selectedPoint.longitude," "),n.a.createElement("label",null,"Accuracy: ",this.state.selectedPoint.accuracy," "),n.a.createElement("br",null),n.a.createElement("label",null,"UniqueId: ",this.state.selectedPoint.uniqueId," "),n.a.createElement("label",null,"Manufacturer: ".concat(this.state.selectedPoint.manufacturer)),n.a.createElement("label",null,"Select action did at location : "),n.a.createElement(f.a,{options:y,onChange:function(t){console.log("  value:",t),e.setState({selectedActionAtPoint:t})}}),n.a.createElement(g.a,{variant:"primary",onClick:this._updatePoint,style:{hight:60,width:200,marginTop:500,display:"flex",flex:1}},"Update")):null}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{style:{display:"flex"}},n.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},n.a.createElement("div",{style:Object(c.a)({},w,{marginTop:32,marginLeft:32,display:"flex"})},this._renderMap()),n.a.createElement("div",null,n.a.createElement(g.a,{variant:"primary",disabled:this.state.loading,onClick:function(){e._reloadFirebaseData()},style:{margin:40}},"Reload"),this.state.loading?"loading...":"not loading")),n.a.createElement("div",{style:P},n.a.createElement("h2",{style:{display:"flex"}},"Selected Point"),this._renderSelectedPoint()))}}]),t}(l.Component),P={margin:32,border:"1px solid gray",height:900,padding:12},w={width:800,height:500,backgroundColor:"blue"},A=Object(h.GoogleApiWrapper)({apiKey:"AIzaSyArAl-k3E70PTxcFnFhKdilCW37KckQHBM",libraries:["visualization"]})(E);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[30,1,2]]]);
//# sourceMappingURL=main.8b846581.chunk.js.map